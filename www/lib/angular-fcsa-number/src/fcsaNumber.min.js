/*! angular-fcsa-number (version 1.5.7) 2015-07-13 */
(function(){var a,b={}.hasOwnProperty;a=angular.module("fcsa-number",[]),a.directive("fcsaNumber",["fcsaNumberConfig",function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return f=a.defaultOptions,g=function(a){var c,d,e,g;if(d=angular.copy(f),null!=a.options){g=a.$eval(a.options);for(c in g)b.call(g,c)&&(e=g[c],d[c]=e)}return d},k=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},j=function(a){return 44>a||a>57||47===a},e=[0,8,13],i=function(a){return-1===e.indexOf(a)},h=function(a){return null!=a&&a.toString().split(".").length>2},m=function(a){var b,c;return b=a>0?"^-?\\d*\\.?\\d{0,"+a+"}$":"^-?\\d*$",c=new RegExp(b),function(a){return c.test(a)}},o=function(a){return function(b,c){return a>=c}},p=function(a){return function(b,c){return c>=a}},n=function(a){var b;return b=new RegExp("^-?\\d{0,"+a+"}(\\.\\d*)?$"),function(a){return b.test(a)}},l=function(a){var b;return b=[],null!=a.maxDecimals&&b.push(m(a.maxDecimals)),null!=a.max&&b.push(o(a.max)),null!=a.min&&b.push(p(a.min)),null!=a.maxDigits&&b.push(n(a.maxDigits)),function(c){var d,e,f,g;if(a.formatOnly)return!0;if(!k(c))return!1;if(h(c))return!1;for(e=Number(c),d=f=0,g=b.length;g>=0?g>f:f>g;d=g>=0?++f:--f)if(!b[d](c,e))return!1;return!0}},q=function(a){return a.replace(/^0+(?!\.|$)/,"")},d=function(a,b){var c,d,e;return""===a?"":(e=a.split("."),d=new Array((parseInt(b,10)||2)+1).join("0"),c=c=((e[1]||"")+d).match(/^\d\d/)[0],e[0]+"."+c)},c=function(a){var b,c,d;return c=-1==a.indexOf(".")?"":a.replace(/^-?\d+(?=\.)/,""),d=a.replace(/(\.\d+)$/,""),b=d.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),""+b+c},{restrict:"A",require:"ngModel",scope:{options:"@fcsaNumber"},link:function(a,b,e,f){var h,k;return k=g(a),h=l(k),f.$parsers.unshift(function(a){var b;return b=a.replace(/,/g,""),h(b)||!b?(f.$setValidity("fcsaNumber",!0),b):void f.$setValidity("fcsaNumber",!1)}),f.$formatters.push(function(a){return null==k.nullDisplay||a&&""!==a?null!=a&&h(a)?(f.$setValidity("fcsaNumber",!0),null!=k.trimLeadZero&&(a=q(a.toString())),null!=k.padDecimal&&(a=d(a.toString(),k.padDecimal)),a=c(a.toString()),null!=k.prepend&&(a=""+k.prepend+a),null!=k.append&&(a=""+a+k.append),a):a:k.nullDisplay}),b.on("blur",function(){var a,b,c,d,e;if(b=f.$modelValue,null!=b&&h(b)){for(e=f.$formatters,c=0,d=e.length;d>c;c++)a=e[c],b=a(b);return f.$viewValue=b,f.$render()}}),b.on("focus",function(){var a;return a=b.val(),null!=k.prepend&&(a=a.replace(k.prepend,"")),null!=k.append&&(a=a.replace(k.append,"")),b.val(a.replace(/,/g,"")),b[0].select()}),k.preventInvalidInput===!0?b.on("keypress",function(a){return j(a.which)&&i(a.which)?a.preventDefault():void 0}):void 0}}}]),a.provider("fcsaNumberConfig",function(){var a;a={},this.setDefaultOptions=function(b){return a=b},this.$get=function(){return{defaultOptions:a}}})}).call(this);